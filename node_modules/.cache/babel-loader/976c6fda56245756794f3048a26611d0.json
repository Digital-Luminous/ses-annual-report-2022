{"ast":null,"code":"var _jsxFileName = \"/Users/nick.clarke/Documents/ses-annual-report-2022/src/components/blocks/Pledges.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Grid from \"../layout/Grid\";\nimport SectionHeader from \"../SectionHeader\";\nimport ReadMore from \"../ReadMore\";\nimport \"../../theme/animations/animatedComponents.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ngsap.registerPlugin(ScrollTrigger);\nconst Background = styled.section`\n  background-color: ${props => props.theme.colors.blueNavy};\n  color: ${props => props.theme.colors.white};\n\n  position: relative;\n  z-index: 8;\n\n  @media (min-width: ${props => props.theme.breakpoints.tablet}px) {\n    padding-bottom: 60px;\n  }\n`;\n_c = Background;\nconst Wrapper = styled.div`\n  @media (min-width: ${props => props.theme.breakpoints.tablet}px) {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: repeat(6, 1fr);\n    grid-gap: 20px;\n  }\n`;\n_c2 = Wrapper;\nconst Card = styled.div`\n  margin-bottom: 50px;\n  grid-row: span 2;\n  cursor: pointer;\n\n  ${props => // offset 2nd item\nprops.index === 1 && css`\n      grid-row: 2/4;\n      grid-column: 2/3;\n    `}\n\n  @media (min-width: ${props => props.theme.breakpoints.tablet}px) {\n    margin-inline: auto;\n  }\n`;\n_c3 = Card;\nconst Heading = styled.h5`\n  color: ${props => props.theme.colors.white};\n  padding: 0 20px 20px;\n\n  @media (min-width: ${props => props.theme.breakpoints.tablet}px) {\n    padding: 0 20px 40px;\n  }\n\n  span.colour {\n    color: ${props => props.theme.colors[props.colour]};\n  }\n\n  span.no-break {\n    white-space: nowrap;\n  }\n`;\n_c4 = Heading;\nconst Icon = styled.img`\n  margin-bottom: 20px;\n`;\n_c5 = Icon;\nconst Thumbnail = styled.img`\n  margin-bottom: 30px;\n  width: 100%;\n`;\n_c6 = Thumbnail;\nexport default function Pledges(_ref) {\n  _s();\n\n  let {\n    content,\n    setActivePledge\n  } = _ref;\n  const pledgesRef = useRef([]);\n  useEffect(() => {\n    let pledgeAnim1 = gsap.from(pledgesRef.current[0], {\n      y: 50,\n      opacity: 0,\n      duration: 1,\n      delay: 0.5,\n      scrollTrigger: {\n        trigger: pledgesRef.current[0],\n        start: \"top 70%\"\n      }\n    });\n    let pledgeAnim2 = gsap.from(pledgesRef.current[1], {\n      y: 50,\n      opacity: 0,\n      duration: 1,\n      delay: 0.2,\n      scrollTrigger: {\n        trigger: pledgesRef.current[1],\n        start: \"top 80%\"\n      }\n    });\n    let pledgeAnim3 = gsap.from(pledgesRef.current[2], {\n      y: 50,\n      opacity: 0,\n      duration: 1,\n      delay: 0.2,\n      scrollTrigger: {\n        trigger: pledgesRef.current[2],\n        start: \"top 80%\"\n      }\n    });\n    let pledgeAnim4 = gsap.from(pledgesRef.current[3], {\n      y: 50,\n      opacity: 0,\n      duration: 1,\n      delay: 0.2,\n      scrollTrigger: {\n        trigger: pledgesRef.current[3],\n        start: \"top 80%\"\n      }\n    });\n    let pledgeAnim5 = gsap.from(pledgesRef.current[4], {\n      y: 50,\n      opacity: 0,\n      duration: 1,\n      delay: 0.2,\n      scrollTrigger: {\n        trigger: pledgesRef.current[4],\n        start: \"top 80%\"\n      }\n    });\n    return () => {\n      pledgeAnim1.kill();\n      pledgeAnim2.kill();\n      pledgeAnim3.kill();\n      pledgeAnim4.kill();\n      pledgeAnim5.kill();\n    };\n  }, []);\n\n  const showPledge = category => {\n    setActivePledge(category);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Background, {\n    id: \"pledges\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      narrow: true,\n      children: [/*#__PURE__*/_jsxDEV(SectionHeader, {\n        children: content.heading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n        children: content.pledges.map((pledge, i) => /*#__PURE__*/_jsxDEV(Card, {\n          onClick: () => showPledge(pledge.category),\n          category: pledge.category,\n          index: i,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pledge__inner\",\n            ref: element => {\n              pledgesRef.current[i] = element;\n            },\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              src: pledge.icon.src,\n              alt: pledge.icon.alt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Thumbnail, {\n              src: pledge.thumbnail.src,\n              alt: pledge.thumbnail.alt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Heading, {\n              dangerouslySetInnerHTML: {\n                __html: pledge.overview\n              },\n              colour: pledge.colour\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ReadMore, {\n              ghost: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Pledges, \"3nzOaE7fYqb2wqF3b9BmeCxaTJQ=\");\n\n_c7 = Pledges;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Background\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"Card\");\n$RefreshReg$(_c4, \"Heading\");\n$RefreshReg$(_c5, \"Icon\");\n$RefreshReg$(_c6, \"Thumbnail\");\n$RefreshReg$(_c7, \"Pledges\");","map":{"version":3,"names":["useEffect","useRef","styled","css","gsap","ScrollTrigger","Grid","SectionHeader","ReadMore","registerPlugin","Background","section","props","theme","colors","blueNavy","white","breakpoints","tablet","Wrapper","div","Card","index","Heading","h5","colour","Icon","img","Thumbnail","Pledges","content","setActivePledge","pledgesRef","pledgeAnim1","from","current","y","opacity","duration","delay","scrollTrigger","trigger","start","pledgeAnim2","pledgeAnim3","pledgeAnim4","pledgeAnim5","kill","showPledge","category","heading","pledges","map","pledge","i","element","icon","src","alt","thumbnail","__html","overview"],"sources":["/Users/nick.clarke/Documents/ses-annual-report-2022/src/components/blocks/Pledges.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\nimport Grid from \"../layout/Grid\";\nimport SectionHeader from \"../SectionHeader\";\nimport ReadMore from \"../ReadMore\";\n\nimport \"../../theme/animations/animatedComponents.scss\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst Background = styled.section`\n  background-color: ${(props) => props.theme.colors.blueNavy};\n  color: ${(props) => props.theme.colors.white};\n\n  position: relative;\n  z-index: 8;\n\n  @media (min-width: ${(props) => props.theme.breakpoints.tablet}px) {\n    padding-bottom: 60px;\n  }\n`;\n\nconst Wrapper = styled.div`\n  @media (min-width: ${(props) => props.theme.breakpoints.tablet}px) {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: repeat(6, 1fr);\n    grid-gap: 20px;\n  }\n`;\n\nconst Card = styled.div`\n  margin-bottom: 50px;\n  grid-row: span 2;\n  cursor: pointer;\n\n  ${(props) =>\n    // offset 2nd item\n    props.index === 1 &&\n    css`\n      grid-row: 2/4;\n      grid-column: 2/3;\n    `}\n\n  @media (min-width: ${(props) => props.theme.breakpoints.tablet}px) {\n    margin-inline: auto;\n  }\n`;\n\nconst Heading = styled.h5`\n  color: ${(props) => props.theme.colors.white};\n  padding: 0 20px 20px;\n\n  @media (min-width: ${(props) => props.theme.breakpoints.tablet}px) {\n    padding: 0 20px 40px;\n  }\n\n  span.colour {\n    color: ${(props) => props.theme.colors[props.colour]};\n  }\n\n  span.no-break {\n    white-space: nowrap;\n  }\n`;\n\nconst Icon = styled.img`\n  margin-bottom: 20px;\n`;\nconst Thumbnail = styled.img`\n  margin-bottom: 30px;\n  width: 100%;\n`;\n\nexport default function Pledges({ content, setActivePledge }) {\n  const pledgesRef = useRef([]);\n\n  useEffect(() => {\n    let pledgeAnim1 = gsap.from(pledgesRef.current[0], {\n      y: 50,\n      opacity: 0,\n      duration: 1,\n      delay: 0.5,\n      scrollTrigger: {\n        trigger: pledgesRef.current[0],\n        start: \"top 70%\",\n      },\n    });\n    let pledgeAnim2 = gsap.from(pledgesRef.current[1], {\n      y: 50,\n      opacity: 0,\n      duration: 1,\n      delay: 0.2,\n      scrollTrigger: {\n        trigger: pledgesRef.current[1],\n        start: \"top 80%\",\n      },\n    });\n    let pledgeAnim3 = gsap.from(pledgesRef.current[2], {\n      y: 50,\n      opacity: 0,\n      duration: 1,\n      delay: 0.2,\n      scrollTrigger: {\n        trigger: pledgesRef.current[2],\n        start: \"top 80%\",\n      },\n    });\n    let pledgeAnim4 = gsap.from(pledgesRef.current[3], {\n      y: 50,\n      opacity: 0,\n      duration: 1,\n      delay: 0.2,\n      scrollTrigger: {\n        trigger: pledgesRef.current[3],\n        start: \"top 80%\",\n      },\n    });\n    let pledgeAnim5 = gsap.from(pledgesRef.current[4], {\n      y: 50,\n      opacity: 0,\n      duration: 1,\n      delay: 0.2,\n      scrollTrigger: {\n        trigger: pledgesRef.current[4],\n        start: \"top 80%\",\n      },\n    });\n\n    return () => {\n      pledgeAnim1.kill();\n      pledgeAnim2.kill();\n      pledgeAnim3.kill();\n      pledgeAnim4.kill();\n      pledgeAnim5.kill();\n    };\n  }, []);\n\n  const showPledge = (category) => {\n    setActivePledge(category);\n  };\n\n  return (\n    <Background id=\"pledges\">\n      <Grid narrow>\n        <SectionHeader>{content.heading}</SectionHeader>\n        <Wrapper>\n          {content.pledges.map((pledge, i) => (\n            <Card\n              onClick={() => showPledge(pledge.category)}\n              category={pledge.category}\n              index={i}\n              key={i}\n            >\n              <div\n                className=\"pledge__inner\"\n                ref={(element) => {\n                  pledgesRef.current[i] = element;\n                }}\n              >\n                <Icon src={pledge.icon.src} alt={pledge.icon.alt} />\n                <Thumbnail\n                  src={pledge.thumbnail.src}\n                  alt={pledge.thumbnail.alt}\n                />\n                <Heading\n                  dangerouslySetInnerHTML={{ __html: pledge.overview }}\n                  colour={pledge.colour}\n                ></Heading>\n                <ReadMore ghost />\n              </div>\n            </Card>\n          ))}\n        </Wrapper>\n      </Grid>\n    </Background>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}